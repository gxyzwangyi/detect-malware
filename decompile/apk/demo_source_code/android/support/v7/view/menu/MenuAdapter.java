// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package android.support.v7.view.menu;

import android.view.*;
import android.widget.BaseAdapter;
import java.util.ArrayList;

// Referenced classes of package android.support.v7.view.menu:
//            MenuBuilder, MenuItemImpl, ListMenuItemView

public class MenuAdapter extends BaseAdapter {

    static final int ITEM_LAYOUT;
    MenuBuilder mAdapterMenu;
    private int mExpandedIndex;
    private boolean mForceShowIcon;
    private final LayoutInflater mInflater;
    private final boolean mOverflowOnly;

    public MenuAdapter(MenuBuilder menubuilder, LayoutInflater layoutinflater, boolean flag) {
        mExpandedIndex = -1;
        mOverflowOnly = flag;
        mInflater = layoutinflater;
        mAdapterMenu = menubuilder;
        findExpandedIndex();
    }

    void findExpandedIndex() {
        int i;
        int j;
        ArrayList arraylist;
        MenuItemImpl menuitemimpl;
        menuitemimpl = mAdapterMenu.getExpandedItem();
        if (menuitemimpl == null)
            break MISSING_BLOCK_LABEL_59;
        arraylist = mAdapterMenu.getNonActionItems();
        j = arraylist.size();
        i = 0;
_L3:
        if (i >= j)
            break MISSING_BLOCK_LABEL_59;
        if ((MenuItemImpl)arraylist.get(i) != menuitemimpl) goto _L2; else goto _L1
_L1:
        mExpandedIndex = i;
_L4:
        return;
_L2:
        i++;
          goto _L3
        mExpandedIndex = -1;
          goto _L4
    }

    public MenuBuilder getAdapterMenu() {
        return mAdapterMenu;
    }

    public int getCount() {
        int i;
        ArrayList arraylist;
        if (mOverflowOnly)
            arraylist = mAdapterMenu.getNonActionItems();
        else
            arraylist = mAdapterMenu.getVisibleItems();
        if (mExpandedIndex < 0)
            i = arraylist.size();
        else
            i = arraylist.size() - 1;
        return i;
    }

    public boolean getForceShowIcon() {
        return mForceShowIcon;
    }

    public MenuItemImpl getItem(int i) {
        int j;
        ArrayList arraylist;
        if (mOverflowOnly)
            arraylist = mAdapterMenu.getNonActionItems();
        else
            arraylist = mAdapterMenu.getVisibleItems();
        j = i;
        if (mExpandedIndex >= 0) {
            j = i;
            if (i >= mExpandedIndex)
                j = i + 1;
        }
        return (MenuItemImpl)arraylist.get(j);
    }

    public volatile Object getItem(int i) {
        return getItem(i);
    }

    public long getItemId(int i) {
        return (long)i;
    }

    public View getView(int i, View view, ViewGroup viewgroup) {
        if (view == null)
            view = mInflater.inflate(ITEM_LAYOUT, viewgroup, false);
        viewgroup = (MenuView.ItemView)view;
        if (mForceShowIcon)
            ((ListMenuItemView)view).setForceShowIcon(true);
        viewgroup.initialize(getItem(i), 0);
        return view;
    }

    public void notifyDataSetChanged() {
        findExpandedIndex();
        super.notifyDataSetChanged();
    }

    public void setForceShowIcon(boolean flag) {
        mForceShowIcon = flag;
    }

    static  {
        ITEM_LAYOUT = android.support.v7.appcompat.R.layout.abc_popup_menu_item_layout;
    }
}
