// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package android.support.v7.widget;

import android.content.Context;
import android.content.ContextWrapper;
import android.content.res.Resources;
import android.support.v7.app.AppCompatDelegate;
import java.lang.ref.WeakReference;
import java.util.ArrayList;

// Referenced classes of package android.support.v7.widget:
//            VectorEnabledTintResources, TintResources

public class TintContextWrapper extends ContextWrapper {

    private static final ArrayList sCache = new ArrayList();
    private final Resources mResources;
    private final android.content.res.Resources.Theme mTheme;

    private TintContextWrapper(Context context) {
        super(context);
        if (VectorEnabledTintResources.shouldBeUsed()) {
            mResources = new VectorEnabledTintResources(this, context.getResources());
            mTheme = mResources.newTheme();
            mTheme.setTo(context.getTheme());
        } else {
            mResources = new TintResources(this, context.getResources());
            mTheme = null;
        }
    }

    private static boolean shouldWrap(Context context) {
        boolean flag;
        boolean flag1;
        flag1 = false;
        flag = flag1;
        if (context instanceof TintContextWrapper) goto _L2; else goto _L1
_L1:
        flag = flag1;
        if (context.getResources() instanceof TintResources) goto _L2; else goto _L3
_L3:
        if (!(context.getResources() instanceof VectorEnabledTintResources)) goto _L5; else goto _L4
_L4:
        flag = flag1;
_L2:
        return flag;
_L5:
        if (AppCompatDelegate.isCompatVectorFromResourcesEnabled()) {
            flag = flag1;
            if (android.os.Build.VERSION.SDK_INT > 20)
                continue; /* Loop/switch isn't completed */
        }
        flag = true;
        if (true) goto _L2; else goto _L6
_L6:
    }

    public static Context wrap(Context context) {
        Object obj = context;
        if (!shouldWrap(context)) goto _L2; else goto _L1
_L1:
        int i;
        int j;
        j = sCache.size();
        i = 0;
_L4:
        if (i >= j)
            break MISSING_BLOCK_LABEL_71;
        obj = (WeakReference)sCache.get(i);
        if (obj != null)
            obj = (TintContextWrapper)((WeakReference) (obj)).get();
        else
            obj = null;
        if (obj == null || ((TintContextWrapper) (obj)).getBaseContext() != context) goto _L3; else goto _L2
_L2:
        return ((Context) (obj));
_L3:
        i++;
          goto _L4
        obj = new TintContextWrapper(context);
        sCache.add(new WeakReference(obj));
          goto _L2
    }

    public Resources getResources() {
        return mResources;
    }

    public android.content.res.Resources.Theme getTheme() {
        android.content.res.Resources.Theme theme;
        if (mTheme == null)
            theme = super.getTheme();
        else
            theme = mTheme;
        return theme;
    }

    public void setTheme(int i) {
        if (mTheme == null)
            super.setTheme(i);
        else
            mTheme.applyStyle(i, true);
    }

}
