// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package android.support.v7.widget;

import android.content.Context;
import android.content.res.Resources;
import android.graphics.PointF;
import android.util.DisplayMetrics;
import android.util.Log;
import android.view.View;
import android.view.animation.DecelerateInterpolator;
import android.view.animation.LinearInterpolator;

public class LinearSmoothScroller extends RecyclerView.SmoothScroller {

    private static final boolean DEBUG = false;
    private static final float MILLISECONDS_PER_INCH = 25F;
    public static final int SNAP_TO_ANY = 0;
    public static final int SNAP_TO_END = 1;
    public static final int SNAP_TO_START = -1;
    private static final String TAG = "LinearSmoothScroller";
    private static final float TARGET_SEEK_EXTRA_SCROLL_RATIO = 1.2F;
    private static final int TARGET_SEEK_SCROLL_DISTANCE_PX = 10000;
    private final float MILLISECONDS_PER_PX;
    protected final DecelerateInterpolator mDecelerateInterpolator = new DecelerateInterpolator();
    protected int mInterimTargetDx;
    protected int mInterimTargetDy;
    protected final LinearInterpolator mLinearInterpolator = new LinearInterpolator();
    protected PointF mTargetVector;

    public LinearSmoothScroller(Context context) {
        mInterimTargetDx = 0;
        mInterimTargetDy = 0;
        MILLISECONDS_PER_PX = calculateSpeedPerPixel(context.getResources().getDisplayMetrics());
    }

    private int clampApplyScroll(int i, int j) {
        int k = i - j;
        j = k;
        if (i * k <= 0)
            j = 0;
        return j;
    }

    public int calculateDtToFit(int i, int j, int k, int l, int i1) {
        i1;
        JVM INSTR tableswitch -1 1: default 28
    //                   -1 38
    //                   0 52
    //                   1 44;
           goto _L1 _L2 _L3 _L4
_L1:
        throw new IllegalArgumentException("snap preference should be one of the constants defined in SmoothScroller, starting with SNAP_");
_L2:
        i = k - i;
_L6:
        return i;
_L4:
        i = l - j;
        continue; /* Loop/switch isn't completed */
_L3:
        k -= i;
        i = k;
        if (k <= 0) {
            j = l - j;
            i = j;
            if (j >= 0)
                i = 0;
        }
        if (true) goto _L6; else goto _L5
_L5:
    }

    public int calculateDxToMakeVisible(View view, int i) {
        RecyclerView.LayoutManager layoutmanager = getLayoutManager();
        if (layoutmanager == null || !layoutmanager.canScrollHorizontally()) {
            i = 0;
        } else {
            RecyclerView.LayoutParams layoutparams = (RecyclerView.LayoutParams)view.getLayoutParams();
            i = calculateDtToFit(layoutmanager.getDecoratedLeft(view) - layoutparams.leftMargin, layoutmanager.getDecoratedRight(view) + layoutparams.rightMargin, layoutmanager.getPaddingLeft(), layoutmanager.getWidth() - layoutmanager.getPaddingRight(), i);
        }
        return i;
    }

    public int calculateDyToMakeVisible(View view, int i) {
        RecyclerView.LayoutManager layoutmanager = getLayoutManager();
        if (layoutmanager == null || !layoutmanager.canScrollVertically()) {
            i = 0;
        } else {
            RecyclerView.LayoutParams layoutparams = (RecyclerView.LayoutParams)view.getLayoutParams();
            i = calculateDtToFit(layoutmanager.getDecoratedTop(view) - layoutparams.topMargin, layoutmanager.getDecoratedBottom(view) + layoutparams.bottomMargin, layoutmanager.getPaddingTop(), layoutmanager.getHeight() - layoutmanager.getPaddingBottom(), i);
        }
        return i;
    }

    protected float calculateSpeedPerPixel(DisplayMetrics displaymetrics) {
        return 25F / (float)displaymetrics.densityDpi;
    }

    protected int calculateTimeForDeceleration(int i) {
        return (int)Math.ceil((double)calculateTimeForScrolling(i) / 0.33560000000000001D);
    }

    protected int calculateTimeForScrolling(int i) {
        return (int)Math.ceil((float)Math.abs(i) * MILLISECONDS_PER_PX);
    }

    public PointF computeScrollVectorForPosition(int i) {
        Object obj = getLayoutManager();
        if (obj instanceof RecyclerView.SmoothScroller.ScrollVectorProvider) {
            obj = ((RecyclerView.SmoothScroller.ScrollVectorProvider)obj).computeScrollVectorForPosition(i);
        } else {
            Log.w("LinearSmoothScroller", (new StringBuilder()).append("You should override computeScrollVectorForPosition when the LayoutManager does not implement ").append(android/support/v7/widget/RecyclerView$SmoothScroller$ScrollVectorProvider.getCanonicalName()).toString());
            obj = null;
        }
        return ((PointF) (obj));
    }

    protected int getHorizontalSnapPreference() {
        int i;
        if (mTargetVector == null || mTargetVector.x == 0.0F)
            i = 0;
        else
        if (mTargetVector.x > 0.0F)
            i = 1;
        else
            i = -1;
        return i;
    }

    protected int getVerticalSnapPreference() {
        int i;
        if (mTargetVector == null || mTargetVector.y == 0.0F)
            i = 0;
        else
        if (mTargetVector.y > 0.0F)
            i = 1;
        else
            i = -1;
        return i;
    }

    protected void onSeekTargetStep(int i, int j, RecyclerView.State state, RecyclerView.SmoothScroller.Action action) {
        if (getChildCount() != 0) goto _L2; else goto _L1
_L1:
        stop();
_L4:
        return;
_L2:
        mInterimTargetDx = clampApplyScroll(mInterimTargetDx, i);
        mInterimTargetDy = clampApplyScroll(mInterimTargetDy, j);
        if (mInterimTargetDx == 0 && mInterimTargetDy == 0)
            updateActionForInterimTarget(action);
        if (true) goto _L4; else goto _L3
_L3:
    }

    protected void onStart() {
    }

    protected void onStop() {
        mInterimTargetDy = 0;
        mInterimTargetDx = 0;
        mTargetVector = null;
    }

    protected void onTargetFound(View view, RecyclerView.State state, RecyclerView.SmoothScroller.Action action) {
        int i = calculateDxToMakeVisible(view, getHorizontalSnapPreference());
        int k = calculateDyToMakeVisible(view, getVerticalSnapPreference());
        int j = calculateTimeForDeceleration((int)Math.sqrt(i * i + k * k));
        if (j > 0)
            action.update(-i, -k, j, mDecelerateInterpolator);
    }

    protected void updateActionForInterimTarget(RecyclerView.SmoothScroller.Action action) {
        PointF pointf = computeScrollVectorForPosition(getTargetPosition());
        if (pointf == null || pointf.x == 0.0F && pointf.y == 0.0F) {
            action.jumpTo(getTargetPosition());
            stop();
        } else {
            normalize(pointf);
            mTargetVector = pointf;
            mInterimTargetDx = (int)(pointf.x * 10000F);
            mInterimTargetDy = (int)(pointf.y * 10000F);
            int i = calculateTimeForScrolling(10000);
            action.update((int)((float)mInterimTargetDx * 1.2F), (int)((float)mInterimTargetDy * 1.2F), (int)((float)i * 1.2F), mLinearInterpolator);
        }
    }
}
