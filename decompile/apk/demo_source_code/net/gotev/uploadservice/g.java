// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package net.gotev.uploadservice;

import android.content.Context;
import android.content.Intent;
import java.util.List;
import java.util.UUID;

// Referenced classes of package net.gotev.uploadservice:
//            UploadTaskParameters, Logger, UploadService, h

public abstract class g {

    private static final String a = net/gotev/uploadservice/g.getSimpleName();
    protected final Context b;
    protected final UploadTaskParameters c = new UploadTaskParameters();
    protected h d;

    public g(Context context, String s, String s1) {
        if (context == null)
            throw new IllegalArgumentException("Context MUST not be null!");
        b = context;
        if (s == null || s.isEmpty()) {
            Logger.c(a, "null or empty upload ID. Generating it");
            c.a(UUID.randomUUID().toString());
        } else {
            Logger.c(a, "setting provided upload ID");
            c.a(s);
        }
        c.b(s1);
        Logger.c(a, (new StringBuilder()).append("Created new upload request to ").append(c.d()).append(" with ID: ").append(c.c()).toString());
    }

    public g a(h h) {
        d = h;
        return this;
    }

    protected void a() {
        if (c.d() == null || "".equals(c.d()))
            throw new IllegalArgumentException("Server URL cannot be null or empty");
        if (c.a().isEmpty())
            throw new IllegalArgumentException("You have to add at least one file to upload");
        else
            return;
    }

    protected void a(Intent intent) {
        intent.putExtra("taskParameters", c);
        Class class1 = b();
        if (class1 == null) {
            throw new RuntimeException("The request must specify a task class!");
        } else {
            intent.putExtra("taskClass", class1.getName());
            return;
        }
    }

    protected abstract Class b();

    public g b(int i) {
        c.a(i);
        return this;
    }

    public final String c() {
        a();
        UploadService.a(c.c(), d);
        Intent intent = new Intent(b, net/gotev/uploadservice/UploadService);
        a(intent);
        intent.setAction(UploadService.a());
        b.startService(intent);
        return c.c();
    }

}
