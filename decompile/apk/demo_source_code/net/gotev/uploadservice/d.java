// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package net.gotev.uploadservice;

import android.content.Intent;
import java.io.InputStream;
import java.util.List;
import net.gotev.uploadservice.a.a;
import net.gotev.uploadservice.a.b;

// Referenced classes of package net.gotev.uploadservice:
//            i, UploadTaskParameters, Logger, HttpUploadTaskParameters, 
//            UploadService

public abstract class d extends i {

    private static final String h = net/gotev/uploadservice/d.getSimpleName();
    protected HttpUploadTaskParameters a;
    private a i;

    public d() {
        a = null;
    }

    protected void a() {
        Logger.c(h, (new StringBuilder()).append("Starting upload task with ID ").append(d.c()).toString());
        e().clear();
        g = 0L;
        f = b();
        if (a.f())
            a.a("User-Agent", a.e());
        i = UploadService.e.a(a.c(), d.d());
        i.a(a.a(), a.d(), b());
        a(i);
        int j = i.a();
        String s = h;
        StringBuilder stringbuilder = JVM INSTR new #31  <Class StringBuilder>;
        stringbuilder.StringBuilder();
        Logger.c(s, stringbuilder.append("Server responded with HTTP ").append(j).append(" to upload with ID: ").append(d.c()).toString());
        if (e)
            a(j, i.b(), i.c());
        i.d();
        return;
        Exception exception;
        exception;
        i.d();
        throw exception;
    }

    protected final void a(InputStream inputstream) {
        byte abyte0[] = new byte[UploadService.f];
        do {
            int j = inputstream.read(abyte0, 0, abyte0.length);
            if (j > 0 && e) {
                i.a(abyte0, j);
                g = g + (long)j;
                a(g, f);
            } else {
                return;
            }
        } while (true);
    }

    protected void a(UploadService uploadservice, Intent intent) {
        super.a(uploadservice, intent);
        a = (HttpUploadTaskParameters)intent.getParcelableExtra("httpTaskParameters");
    }

    protected abstract void a(a a1);

    protected abstract long b();

}
