// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.google.zxing.qrcode.decoder;

import com.google.zxing.FormatException;
import com.google.zxing.common.b;

// Referenced classes of package com.google.zxing.qrcode.decoder:
//            f, h, c

final class a {

    private final b a;
    private h b;
    private f c;
    private boolean d;

    a(b b1) {
        int i = b1.f();
        if (i < 21 || (i & 3) != 1) {
            throw FormatException.a();
        } else {
            a = b1;
            return;
        }
    }

    private int a(int i, int j, int k) {
        boolean flag;
        if (d)
            flag = a.a(j, i);
        else
            flag = a.a(i, j);
        if (flag)
            i = k << 1 | 1;
        else
            i = k << 1;
        return i;
    }

    f a() {
        int l = 0;
        f f1;
        if (c != null) {
            f1 = c;
        } else {
            int i = 0;
            int k = 0;
            for (; i < 6; i++)
                k = a(i, 8, k);

            k = a(8, 7, a(8, 8, a(7, 8, k)));
            for (i = 5; i >= 0; i--)
                k = a(8, i, k);

            int j1 = a.f();
            int i1 = j1 - 1;
            i = l;
            for (l = i1; l >= j1 - 7; l--)
                i = a(8, l, i);

            i1 = j1 - 8;
            l = i;
            for (int j = i1; j < j1; j++)
                l = a(j, 8, l);

            c = com.google.zxing.qrcode.decoder.f.b(k, l);
            if (c != null)
                f1 = c;
            else
                throw FormatException.a();
        }
        return f1;
    }

    void a(boolean flag) {
        b = null;
        c = null;
        d = flag;
    }

    h b() {
        h h1;
        if (b != null) {
            h1 = b;
        } else {
            int l1 = a.f();
            int i = l1 - 17 >> 2;
            if (i <= 6) {
                h1 = com.google.zxing.qrcode.decoder.h.b(i);
            } else {
                int i2 = l1 - 11;
                int j = 5;
                int l = 0;
                for (; j >= 0; j--) {
                    for (int j1 = l1 - 9; j1 >= i2; j1--)
                        l = a(j1, j, l);

                }

                h1 = h.c(l);
                if (h1 != null && h1.d() == l1) {
                    b = h1;
                } else {
                    int i1 = 0;
                    for (int k = 5; k >= 0; k--) {
                        for (int k1 = l1 - 9; k1 >= i2; k1--)
                            i1 = a(k, k1, i1);

                    }

                    h1 = h.c(i1);
                    if (h1 != null && h1.d() == l1)
                        b = h1;
                    else
                        throw FormatException.a();
                }
            }
        }
        return h1;
    }

    byte[] c() {
        Object obj = a();
        h h1 = b();
        obj = com.google.zxing.qrcode.decoder.c.a(((f) (obj)).b());
        int k2 = a.f();
        ((c) (obj)).a(a, k2);
        b b1 = h1.e();
        byte abyte0[] = new byte[h1.c()];
        int i = k2 - 1;
        int j = 0;
        int k = 0;
        int l1 = 0;
        for (boolean flag = true; i > 0; flag ^= true) {
            int i1 = i;
            if (i == 6)
                i1 = i - 1;
            for (i = 0; i < k2;) {
                int l;
                int j1;
                int k1;
                int j2;
                if (flag)
                    j1 = k2 - 1 - i;
                else
                    j1 = i;
                k1 = 0;
                l = k;
                j2 = j;
                while (k1 < 2)  {
                    k = j2;
                    j = l;
                    int i2 = l1;
                    if (!b1.a(i1 - k1, j1)) {
                        j2++;
                        j = l << 1;
                        l = j;
                        if (a.a(i1 - k1, j1))
                            l = j | 1;
                        k = j2;
                        j = l;
                        i2 = l1;
                        if (j2 == 8) {
                            abyte0[l1] = (byte)l;
                            j = 0;
                            i2 = l1 + 1;
                            k = 0;
                        }
                    }
                    k1++;
                    j2 = k;
                    l = j;
                    l1 = i2;
                }
                i++;
                j = j2;
                k = l;
            }

            i = i1 - 2;
        }

        if (l1 != h1.c())
            throw FormatException.a();
        else
            return abyte0;
    }

    void d() {
        if (c != null) {
            c c1 = com.google.zxing.qrcode.decoder.c.a(c.b());
            int i = a.f();
            c1.a(a, i);
        }
    }

    void e() {
        for (int i = 0; i < a.e(); i++) {
            for (int j = i + 1; j < a.f(); j++)
                if (a.a(i, j) != a.a(j, i)) {
                    a.c(j, i);
                    a.c(i, j);
                }

        }

    }
}
