// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.google.zxing.decoding;

import android.os.Handler;
import android.os.Looper;
import android.preference.PreferenceManager;
import android.util.Log;
import com.google.zxing.*;
import java.util.*;
import java.util.concurrent.CountDownLatch;

// Referenced classes of package com.google.zxing.decoding:
//            a, b

final class c extends Thread {

    private final QrCodeScanActivity a;
    private final Map b;
    private Handler c;
    private final CountDownLatch d;

    c(QrCodeScanActivity qrcodescanactivity, Collection collection, Map map, String s, j j) {
label0:
        {
            super();
            a = qrcodescanactivity;
            d = new CountDownLatch(1);
            b = new EnumMap(com/google/zxing/DecodeHintType);
            if (map != null)
                b.putAll(map);
            if (collection != null) {
                map = collection;
                if (!collection.isEmpty())
                    break label0;
            }
            PreferenceManager.getDefaultSharedPreferences(qrcodescanactivity);
            map = EnumSet.noneOf(com/google/zxing/BarcodeFormat);
            map.addAll(a.a);
            map.addAll(a.b);
            map.addAll(a.c);
            map.addAll(a.d);
            map.addAll(a.e);
            map.addAll(a.f);
        }
        b.put(DecodeHintType.c, map);
        if (s != null)
            b.put(DecodeHintType.e, s);
        b.put(DecodeHintType.j, j);
        Log.i("DecodeThread", (new StringBuilder()).append("Hints: ").append(b).toString());
    }

    Handler a() {
        try {
            d.await();
        }
        catch (InterruptedException interruptedexception) { }
        return c;
    }

    public void run() {
        Looper.prepare();
        c = new b(a, b);
        d.countDown();
        Looper.loop();
    }
}
