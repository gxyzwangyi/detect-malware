// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.barchart.udt.net;

import com.barchart.udt.ErrorUDT;
import com.barchart.udt.SocketUDT;
import java.io.OutputStream;
import java.nio.channels.IllegalBlockingModeException;

// Referenced classes of package com.barchart.udt.net:
//            ExceptionSendUDT

public class b extends OutputStream {

    protected final SocketUDT a;

    public b(SocketUDT socketudt) {
        if (!socketudt.o()) {
            throw new IllegalBlockingModeException();
        } else {
            a = socketudt;
            return;
        }
    }

    public void close() {
        a.b();
    }

    public void write(int i) {
        write(new byte[] {
            (byte)i
        });
    }

    public void write(byte abyte0[]) {
        write(abyte0, 0, abyte0.length);
    }

    public void write(byte abyte0[], int i, int j) {
        for (int k = j; k > 0;) {
            int l = a.b(abyte0, (i + j) - k, i + j);
            if (l > 0)
                k -= l;
            else
            if (l == 0)
                throw new ExceptionSendUDT(a.n(), ErrorUDT.N, "UDT send time out");
            else
                throw new IllegalStateException("Socket has been chaged to non-blocking");
        }

    }
}
