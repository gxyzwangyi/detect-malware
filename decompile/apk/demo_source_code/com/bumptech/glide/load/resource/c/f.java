// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.bumptech.glide.load.resource.c;

import android.content.Context;
import android.graphics.Bitmap;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.os.SystemClock;
import com.bumptech.glide.c;
import com.bumptech.glide.d;
import com.bumptech.glide.e;
import com.bumptech.glide.g;
import com.bumptech.glide.load.engine.DiskCacheStrategy;
import com.bumptech.glide.load.resource.a;
import java.security.MessageDigest;
import java.util.UUID;

// Referenced classes of package com.bumptech.glide.load.resource.c:
//            h, g

class f {
    static class a extends com.bumptech.glide.request.b.g {

        private final Handler a;
        private final int b;
        private final long c;
        private Bitmap d;

        static int a(a a1) {
            return a1.b;
        }

        public Bitmap a() {
            return d;
        }

        public void a(Bitmap bitmap, com.bumptech.glide.request.a.c c1) {
            d = bitmap;
            bitmap = a.obtainMessage(1, this);
            a.sendMessageAtTime(bitmap, c);
        }

        public volatile void a(Object obj, com.bumptech.glide.request.a.c c1) {
            a((Bitmap)obj, c1);
        }

        public a(Handler handler, int i, long l) {
            a = handler;
            b = i;
            c = l;
        }
    }

    public static interface b {

        public abstract void b(int i);
    }

    private class c
        implements android.os.Handler.Callback {

        final f a;

        public boolean handleMessage(Message message) {
            boolean flag;
            if (message.what == 1) {
                message = (a)message.obj;
                a.a(message);
                flag = true;
            } else {
                if (message.what == 2)
                    com.bumptech.glide.e.a((a)message.obj);
                flag = false;
            }
            return flag;
        }

        private c() {
            a = f.this;
            super();
        }

    }

    static class d
        implements com.bumptech.glide.load.b {

        private final UUID a;

        public void a(MessageDigest messagedigest) {
            throw new UnsupportedOperationException("Not implemented");
        }

        public boolean equals(Object obj) {
            boolean flag;
            if (obj instanceof d)
                flag = ((d)obj).a.equals(a);
            else
                flag = false;
            return flag;
        }

        public int hashCode() {
            return a.hashCode();
        }

        public d() {
            this(UUID.randomUUID());
        }

        d(UUID uuid) {
            a = uuid;
        }
    }


    private final b a;
    private final com.bumptech.glide.b.a b;
    private final Handler c;
    private boolean d;
    private boolean e;
    private com.bumptech.glide.c f;
    private a g;
    private boolean h;

    public f(Context context, b b1, com.bumptech.glide.b.a a1, int i, int j) {
        this(b1, a1, null, a(context, a1, i, j, com.bumptech.glide.e.a(context).a()));
    }

    f(b b1, com.bumptech.glide.b.a a1, Handler handler, com.bumptech.glide.c c1) {
        d = false;
        e = false;
        Handler handler1 = handler;
        if (handler == null)
            handler1 = new Handler(Looper.getMainLooper(), new c());
        a = b1;
        b = a1;
        c = handler1;
        f = c1;
    }

    private static com.bumptech.glide.c a(Context context, com.bumptech.glide.b.a a1, int i, int j, com.bumptech.glide.load.engine.a.c c1) {
        c1 = new h(c1);
        com.bumptech.glide.load.resource.c.g g1 = new com.bumptech.glide.load.resource.c.g();
        com.bumptech.glide.load.a a2 = com.bumptech.glide.load.resource.a.b();
        return com.bumptech.glide.e.b(context).a(g1, com/bumptech/glide/b/a).a(a1).a(android/graphics/Bitmap).b(a2).b(c1).b(true).b(DiskCacheStrategy.b).b(i, j);
    }

    private void e() {
        if (d && !e) {
            e = true;
            b.a();
            long l = SystemClock.uptimeMillis();
            long l1 = b.b();
            a a1 = new a(c, b.d(), l + l1);
            f.b(new d()).a(a1);
        }
    }

    public void a() {
        if (!d) {
            d = true;
            h = false;
            e();
        }
    }

    public void a(com.bumptech.glide.load.f f1) {
        if (f1 == null) {
            throw new NullPointerException("Transformation must not be null");
        } else {
            f = f.b(new com.bumptech.glide.load.f[] {
                f1
            });
            return;
        }
    }

    void a(a a1) {
        if (h) {
            c.obtainMessage(2, a1).sendToTarget();
        } else {
            a a2 = g;
            g = a1;
            a.b(com.bumptech.glide.load.resource.c.a.a(a1));
            if (a2 != null)
                c.obtainMessage(2, a2).sendToTarget();
            e = false;
            e();
        }
    }

    public void b() {
        d = false;
    }

    public void c() {
        b();
        if (g != null) {
            com.bumptech.glide.e.a(g);
            g = null;
        }
        h = true;
    }

    public Bitmap d() {
        Bitmap bitmap;
        if (g != null)
            bitmap = g.a();
        else
            bitmap = null;
        return bitmap;
    }
}
