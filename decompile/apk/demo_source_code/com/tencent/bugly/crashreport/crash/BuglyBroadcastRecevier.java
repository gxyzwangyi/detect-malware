// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.tencent.bugly.crashreport.crash;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import com.tencent.bugly.crashreport.common.info.b;
import com.tencent.bugly.crashreport.common.strategy.a;
import com.tencent.bugly.proguard.ad;
import com.tencent.bugly.proguard.ag;

// Referenced classes of package com.tencent.bugly.crashreport.crash:
//            c

public class BuglyBroadcastRecevier extends BroadcastReceiver {

    private static BuglyBroadcastRecevier d = null;
    private IntentFilter a;
    private Context b;
    private String c;
    private boolean e;

    public BuglyBroadcastRecevier() {
        e = true;
        a = new IntentFilter();
    }

    private boolean a(Context context, Intent intent) {
        boolean flag1 = true;
        this;
        JVM INSTR monitorenter ;
        if (context == null || intent == null) goto _L2; else goto _L1
_L1:
        boolean flag = intent.getAction().equals("android.net.conn.CONNECTIVITY_CHANGE");
        if (flag) goto _L3; else goto _L2
_L2:
        flag = false;
_L5:
        this;
        JVM INSTR monitorexit ;
        return flag;
_L3:
        if (!e)
            break MISSING_BLOCK_LABEL_56;
        e = false;
        flag = flag1;
        continue; /* Loop/switch isn't completed */
        context;
        throw context;
        intent = com.tencent.bugly.crashreport.common.info.b.e(b);
        Object obj = JVM INSTR new #53  <Class StringBuilder>;
        ((StringBuilder) (obj)).StringBuilder("is Connect BC ");
        ag.c(((StringBuilder) (obj)).append(intent).toString(), new Object[0]);
        obj = JVM INSTR new #53  <Class StringBuilder>;
        ((StringBuilder) (obj)).StringBuilder();
        obj = ((StringBuilder) (obj)).append(c).toString();
        StringBuilder stringbuilder = JVM INSTR new #53  <Class StringBuilder>;
        stringbuilder.StringBuilder();
        ag.a("network %s changed to %s", new Object[] {
            obj, stringbuilder.append(intent).toString()
        });
        if (intent != null)
            break MISSING_BLOCK_LABEL_169;
        c = null;
        flag = flag1;
        continue; /* Loop/switch isn't completed */
        long l;
        ad ad1;
        String s;
        a a1;
        s = c;
        c = intent;
        l = System.currentTimeMillis();
        a1 = com.tencent.bugly.crashreport.common.strategy.a.a();
        ad1 = ad.a();
        context = com.tencent.bugly.crashreport.common.info.a.a(context);
        if (a1 != null && ad1 != null && context != null)
            break MISSING_BLOCK_LABEL_230;
        ag.d("not inited BC not work", new Object[0]);
        flag = flag1;
        continue; /* Loop/switch isn't completed */
        flag = flag1;
        if (intent.equals(s))
            continue; /* Loop/switch isn't completed */
        if (l - ad1.a(com.tencent.bugly.crashreport.crash.c.a) <= 60000L)
            break MISSING_BLOCK_LABEL_283;
        ag.a("try to upload crash on network changed.", new Object[0]);
        context = com.tencent.bugly.crashreport.crash.c.a();
        if (context == null)
            break MISSING_BLOCK_LABEL_283;
        context.a(0L);
        flag = flag1;
        if (l - ad1.a(1001) <= 60000L)
            continue; /* Loop/switch isn't completed */
        ag.a("try to upload userinfo on network changed.", new Object[0]);
        com.tencent.bugly.crashreport.biz.b.a.a(false);
        flag = flag1;
        if (true) goto _L5; else goto _L4
_L4:
    }

    public static BuglyBroadcastRecevier getInstance() {
        com/tencent/bugly/crashreport/crash/BuglyBroadcastRecevier;
        JVM INSTR monitorenter ;
        BuglyBroadcastRecevier buglybroadcastrecevier1;
        if (d == null) {
            BuglyBroadcastRecevier buglybroadcastrecevier = JVM INSTR new #2   <Class BuglyBroadcastRecevier>;
            buglybroadcastrecevier.BuglyBroadcastRecevier();
            d = buglybroadcastrecevier;
        }
        buglybroadcastrecevier1 = d;
        com/tencent/bugly/crashreport/crash/BuglyBroadcastRecevier;
        JVM INSTR monitorexit ;
        return buglybroadcastrecevier1;
        Exception exception;
        exception;
        throw exception;
    }

    public void addFilter(String s) {
        this;
        JVM INSTR monitorenter ;
        if (!a.hasAction(s))
            a.addAction(s);
        ag.c("add action %s", new Object[] {
            s
        });
        this;
        JVM INSTR monitorexit ;
        return;
        s;
        throw s;
    }

    protected void finalize() {
        super.finalize();
        if (b != null)
            b.unregisterReceiver(this);
    }

    public final void onReceive(Context context, Intent intent) {
        a(context, intent);
_L1:
        return;
        context;
        if (!ag.a(context))
            context.printStackTrace();
          goto _L1
    }

    public void regist(Context context) {
        this;
        JVM INSTR monitorenter ;
        ag.a("regis BC", new Object[0]);
        b = context;
        context.registerReceiver(this, a);
_L1:
        this;
        JVM INSTR monitorexit ;
        return;
        context;
        context.printStackTrace();
          goto _L1
        context;
        throw context;
    }

    public void unregist(Context context) {
        this;
        JVM INSTR monitorenter ;
        ag.a("unregis BC", new Object[0]);
        context.unregisterReceiver(this);
        b = context;
_L2:
        this;
        JVM INSTR monitorexit ;
        return;
        context;
        if (ag.a(context)) goto _L2; else goto _L1
_L1:
        context.printStackTrace();
          goto _L2
        context;
        throw context;
    }

}
