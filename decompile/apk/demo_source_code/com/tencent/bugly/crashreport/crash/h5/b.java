// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.tencent.bugly.crashreport.crash.h5;

import android.content.Context;
import com.tencent.bugly.crashreport.common.strategy.StrategyBean;
import com.tencent.bugly.crashreport.common.strategy.a;
import com.tencent.bugly.crashreport.crash.CrashDetailBean;
import com.tencent.bugly.crashreport.crash.c;
import com.tencent.bugly.proguard.ag;
import com.tencent.bugly.proguard.ah;
import java.util.LinkedHashMap;
import java.util.Map;

public final class b {

    private Context a;
    private com.tencent.bugly.crashreport.crash.b b;
    private a c;
    private com.tencent.bugly.crashreport.common.info.a d;

    public b(Context context, com.tencent.bugly.crashreport.crash.b b1, a a1, com.tencent.bugly.crashreport.common.info.a a2, com.tencent.bugly.BuglyStrategy.a a3) {
        a = context;
        b = b1;
        c = a1;
        d = a2;
    }

    public final void a(Thread thread, String s, String s1, String s2, Map map) {
        ag.e("H5 Crash Happen", new Object[0]);
        if (c.b()) goto _L2; else goto _L1
_L1:
        ag.e("waiting for remote sync", new Object[0]);
        int i = 0;
_L3:
        boolean flag = c.b();
        if (flag)
            break; /* Loop/switch isn't completed */
        Thread.sleep(500L);
_L6:
        int j;
        j = i + 500;
        i = j;
        if (j < 3000) goto _L3; else goto _L2
_L2:
        Object obj;
        if (!c.b())
            ag.d("no remote but still store!", new Object[0]);
        obj = c.c();
        if (((StrategyBean) (obj)).g || !c.b()) goto _L5; else goto _L4
_L4:
        ag.e("crash report was closed by remote , will not upload to Bugly , print local for helpful!", new Object[0]);
        String s3 = com.tencent.bugly.proguard.a.b();
        obj = d.d;
        map = JVM INSTR new #81  <Class StringBuilder>;
        map.StringBuilder();
        com.tencent.bugly.crashreport.crash.b.a("H5", s3, ((String) (obj)), thread, map.append(s).append("\n").append(s1).append("\n").append(s2).toString(), null);
        ag.e("handle end", new Object[0]);
_L7:
        return;
        obj;
        ((InterruptedException) (obj)).printStackTrace();
          goto _L6
        thread;
        if (!ag.a(thread))
            thread.printStackTrace();
        ag.e("handle end", new Object[0]);
          goto _L7
_L5:
        if (((StrategyBean) (obj)).m)
            break MISSING_BLOCK_LABEL_270;
        ag.e("cocos report is disabled.", new Object[0]);
        ag.e("handle end", new Object[0]);
          goto _L7
        obj = JVM INSTR new #114 <Class CrashDetailBean>;
        ((CrashDetailBean) (obj)).CrashDetailBean();
        obj.B = com.tencent.bugly.crashreport.common.info.b.h();
        obj.C = com.tencent.bugly.crashreport.common.info.b.f();
        obj.D = com.tencent.bugly.crashreport.common.info.b.j();
        obj.E = d.o();
        obj.F = d.n();
        obj.G = d.p();
        obj.w = com.tencent.bugly.proguard.a.a(a, c.d, null);
        obj.b = 5;
        obj.e = d.g();
        obj.f = d.j;
        obj.g = d.v();
        obj.m = d.f();
        StringBuilder stringbuilder = JVM INSTR new #81  <Class StringBuilder>;
        stringbuilder.StringBuilder();
        obj.n = stringbuilder.append(s).toString();
        stringbuilder = JVM INSTR new #81  <Class StringBuilder>;
        stringbuilder.StringBuilder();
        obj.o = stringbuilder.append(s1).toString();
        obj.p = "0";
        obj.q = s2;
        obj.r = System.currentTimeMillis();
        obj.u = com.tencent.bugly.proguard.a.c(((CrashDetailBean) (obj)).q.getBytes());
        obj.y = com.tencent.bugly.proguard.a.a(c.e, false);
        obj.z = d.d;
        stringbuilder = JVM INSTR new #81  <Class StringBuilder>;
        stringbuilder.StringBuilder();
        obj.A = stringbuilder.append(thread.getName()).append("(").append(thread.getId()).append(")").toString();
        obj.H = d.x();
        obj.h = d.u();
        obj.L = d.a;
        obj.M = d.o;
        obj.O = d.D();
        obj.P = d.E();
        obj.Q = d.y();
        obj.R = d.C();
        b.b(((CrashDetailBean) (obj)));
        obj.x = ah.a(false);
        if (((CrashDetailBean) (obj)).N == null) {
            LinkedHashMap linkedhashmap = JVM INSTR new #302 <Class LinkedHashMap>;
            linkedhashmap.LinkedHashMap();
            obj.N = linkedhashmap;
        }
        if (map == null)
            break MISSING_BLOCK_LABEL_720;
        ((CrashDetailBean) (obj)).N.putAll(map);
        if (obj != null)
            break MISSING_BLOCK_LABEL_749;
        ag.e("pkg crash datas fail!", new Object[0]);
        ag.e("handle end", new Object[0]);
          goto _L7
        String s4 = com.tencent.bugly.proguard.a.b();
        map = d.d;
        StringBuilder stringbuilder1 = JVM INSTR new #81  <Class StringBuilder>;
        stringbuilder1.StringBuilder();
        com.tencent.bugly.crashreport.crash.b.a("H5", s4, map, thread, stringbuilder1.append(s).append("\n").append(s1).append("\n").append(s2).toString(), ((CrashDetailBean) (obj)));
        if (!b.a(((CrashDetailBean) (obj))))
            b.a(((CrashDetailBean) (obj)), 3000L, false);
        ag.e("handle end", new Object[0]);
          goto _L7
        thread;
        ag.e("handle end", new Object[0]);
        throw thread;
          goto _L6
    }
}
