// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package com.tencent.bugly.crashreport.common.strategy;

import android.content.Context;
import android.os.Parcel;
import android.os.Parcelable;
import com.tencent.bugly.crashreport.biz.b;
import com.tencent.bugly.proguard.aa;
import com.tencent.bugly.proguard.af;
import com.tencent.bugly.proguard.ag;
import com.tencent.bugly.proguard.ay;
import com.tencent.bugly.proguard.az;
import com.tencent.bugly.proguard.y;
import java.util.Iterator;
import java.util.List;
import java.util.Map;

// Referenced classes of package com.tencent.bugly.crashreport.common.strategy:
//            StrategyBean

public final class a {

    public static int a = 1000;
    private static a b = null;
    private final List c;
    private final af d = af.a();
    private final StrategyBean e = new StrategyBean();
    private StrategyBean f;
    private Context g;

    private a(Context context, List list) {
        f = null;
        g = context;
        c = list;
        d.a(new Thread() {

            private a a;

            public final void run() {
                Map map = y.a().a(a.a, null, true);
                if (map == null)
                    break MISSING_BLOCK_LABEL_101;
                byte abyte0[];
                byte abyte1[];
                abyte1 = (byte[])map.get("key_imei");
                abyte0 = (byte[])map.get("key_ip");
                if (abyte1 == null)
                    break MISSING_BLOCK_LABEL_72;
                com.tencent.bugly.crashreport.common.info.a a2 = com.tencent.bugly.crashreport.common.info.a.a(a.a(a));
                String s1 = JVM INSTR new #52  <Class String>;
                s1.String(abyte1);
                a2.e(s1);
                if (abyte0 == null)
                    break MISSING_BLOCK_LABEL_101;
                com.tencent.bugly.crashreport.common.info.a a1 = com.tencent.bugly.crashreport.common.info.a.a(a.a(a));
                String s = JVM INSTR new #52  <Class String>;
                s.String(abyte0);
                a1.d(s);
                Object obj = a;
                obj = a.d();
                a.a(a, ((StrategyBean) (obj)));
                a.a(com.tencent.bugly.crashreport.common.strategy.a.b(a));
_L1:
                return;
                Throwable throwable;
                throwable;
                if (!ag.a(throwable))
                    throwable.printStackTrace();
                  goto _L1
            }

             {
                a = a.this;
                super();
            }
        }
);
    }

    static Context a(a a1) {
        return a1.g;
    }

    static StrategyBean a(a a1, StrategyBean strategybean) {
        a1.f = strategybean;
        return strategybean;
    }

    public static a a() {
        com/tencent/bugly/crashreport/common/strategy/a;
        JVM INSTR monitorenter ;
        a a1 = b;
        com/tencent/bugly/crashreport/common/strategy/a;
        JVM INSTR monitorexit ;
        return a1;
        Exception exception;
        exception;
        throw exception;
    }

    public static a a(Context context, List list) {
        com/tencent/bugly/crashreport/common/strategy/a;
        JVM INSTR monitorenter ;
        if (b == null) {
            a a1 = JVM INSTR new #2   <Class a>;
            a1.a(context, list);
            b = a1;
        }
        context = b;
        com/tencent/bugly/crashreport/common/strategy/a;
        JVM INSTR monitorexit ;
        return context;
        context;
        throw context;
    }

    static StrategyBean b(a a1) {
        return a1.f;
    }

    public static StrategyBean d() {
        Object obj = y.a().a(2);
        if (obj == null || ((List) (obj)).size() <= 0) goto _L2; else goto _L1
_L1:
        obj = (aa)((List) (obj)).get(0);
        if (((aa) (obj)).g == null) goto _L2; else goto _L3
_L3:
        obj = (StrategyBean)com.tencent.bugly.proguard.a.a(((aa) (obj)).g, StrategyBean.CREATOR);
_L5:
        return ((StrategyBean) (obj));
_L2:
        obj = null;
        if (true) goto _L5; else goto _L4
_L4:
    }

    protected final void a(StrategyBean strategybean) {
        Iterator iterator = c.iterator();
        do {
            if (!iterator.hasNext())
                break;
            com.tencent.bugly.a a1 = (com.tencent.bugly.a)iterator.next();
            try {
                ag.c("[strategy] Notify %s", new Object[] {
                    a1.getClass().getName()
                });
                a1.onServerStrategyChanged(strategybean);
            }
            catch (Throwable throwable) {
                if (!ag.a(throwable))
                    throwable.printStackTrace();
            }
        } while (true);
        com.tencent.bugly.crashreport.biz.b.a(strategybean);
    }

    public final void a(az az1) {
_L2:
        return;
        if (az1 == null || f != null && az1.h == f.p) goto _L2; else goto _L1
_L1:
        StrategyBean strategybean;
        strategybean = new StrategyBean();
        strategybean.g = az1.a;
        strategybean.i = az1.c;
        strategybean.h = az1.b;
        if (com.tencent.bugly.proguard.a.c(az1.d)) {
            ag.c("upload url changes to %s", new Object[] {
                az1.d
            });
            strategybean.r = az1.d;
        }
        if (com.tencent.bugly.proguard.a.c(az1.e)) {
            ag.c("exception upload url changes to %s", new Object[] {
                az1.e
            });
            strategybean.s = az1.e;
        }
        if (az1.f != null) {
            Object obj = az1.f.a;
            int i;
            aa aa1;
            if (obj != null && ((String) (obj)).trim().length() > 0)
                i = 0;
            else
                i = 1;
            if (i == 0)
                strategybean.u = az1.f.a;
        }
        if (az1.h != 0L)
            strategybean.p = az1.h;
        if (az1.g == null || az1.g.size() <= 0)
            break MISSING_BLOCK_LABEL_388;
        strategybean.v = az1.g;
        obj = (String)az1.g.get("B11");
        if (obj != null && ((String) (obj)).equals("1"))
            strategybean.j = true;
        else
            strategybean.j = false;
        obj = (String)az1.g.get("B3");
        if (obj != null)
            strategybean.y = Long.valueOf(((String) (obj))).longValue();
        strategybean.q = az1.k;
        strategybean.x = az1.k;
        obj = (String)az1.g.get("B27");
        if (obj == null || ((String) (obj)).length() <= 0)
            break MISSING_BLOCK_LABEL_354;
        i = Integer.parseInt(((String) (obj)));
        if (i > 0)
            try {
                strategybean.w = i;
            }
            catch (Exception exception) {
                if (!ag.a(exception))
                    exception.printStackTrace();
            }
        az1 = (String)az1.g.get("B25");
        if (az1 != null && az1.equals("1"))
            strategybean.l = true;
        else
            strategybean.l = false;
        ag.a("cr:%b,qu:%b,uin:%b,an:%b,bl:%b,ss:%b,ssT:%b,ssOT:%d,cos:%b,lstT:%d", new Object[] {
            Boolean.valueOf(strategybean.g), Boolean.valueOf(strategybean.i), Boolean.valueOf(strategybean.h), Boolean.valueOf(strategybean.j), Boolean.valueOf(strategybean.k), Boolean.valueOf(strategybean.n), Boolean.valueOf(strategybean.o), Long.valueOf(strategybean.q), Boolean.valueOf(strategybean.l), Long.valueOf(strategybean.p)
        });
        f = strategybean;
        y.a();
        y.b(2);
        aa1 = new aa();
        aa1.b = 2;
        aa1.a = strategybean.e;
        aa1.e = strategybean.f;
        obj = Parcel.obtain();
        strategybean.writeToParcel(((Parcel) (obj)), 0);
        az1 = ((Parcel) (obj)).marshall();
        ((Parcel) (obj)).recycle();
        aa1.g = az1;
        y.a().a(aa1);
        a(strategybean);
        if (true) goto _L2; else goto _L3
_L3:
    }

    public final boolean b() {
        this;
        JVM INSTR monitorenter ;
        StrategyBean strategybean = f;
        boolean flag;
        if (strategybean != null)
            flag = true;
        else
            flag = false;
        this;
        JVM INSTR monitorexit ;
        return flag;
        Exception exception;
        exception;
        throw exception;
    }

    public final StrategyBean c() {
        StrategyBean strategybean;
        if (f != null)
            strategybean = f;
        else
            strategybean = e;
        return strategybean;
    }

}
