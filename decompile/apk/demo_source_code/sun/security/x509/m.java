// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package sun.security.x509;

import java.io.IOException;
import java.io.OutputStream;
import java.security.cert.CertificateExpiredException;
import java.security.cert.CertificateNotYetValidException;
import java.util.Date;
import sun.security.util.i;

// Referenced classes of package sun.security.x509:
//            e

public class m
    implements e {

    private Date a;
    private Date b;

    public m() {
    }

    public m(Date date, Date date1) {
        a = date;
        b = date1;
    }

    private Date b() {
        return new Date(a.getTime());
    }

    private Date c() {
        return new Date(b.getTime());
    }

    public Object a(String s) {
        if (s.equalsIgnoreCase("notBefore"))
            s = b();
        else
        if (s.equalsIgnoreCase("notAfter"))
            s = c();
        else
            throw new IOException("Attribute name not recognized by CertAttrSet: CertificateValidity.");
        return s;
    }

    public String a() {
        return "validity";
    }

    public void a(OutputStream outputstream) {
        if (a == null || b == null)
            throw new IOException("CertAttrSet:CertificateValidity: null values to encode.\n");
        i j = new i();
        i k;
        if (a.getTime() < 0xd0146400L)
            j.a(a);
        else
            j.b(a);
        if (b.getTime() < 0xd0146400L)
            j.a(b);
        else
            j.b(b);
        k = new i();
        k.a((byte)48, j);
        outputstream.write(k.toByteArray());
    }

    public void a(String s, Object obj) {
        if (!(obj instanceof Date))
            throw new IOException("Attribute must be of type Date.");
        if (s.equalsIgnoreCase("notBefore"))
            a = (Date)obj;
        else
        if (s.equalsIgnoreCase("notAfter"))
            b = (Date)obj;
        else
            throw new IOException("Attribute name not recognized by CertAttrSet: CertificateValidity.");
    }

    public void a(Date date) {
        if (a.after(date))
            throw new CertificateNotYetValidException((new StringBuilder()).append("NotBefore: ").append(a.toString()).toString());
        if (b.before(date))
            throw new CertificateExpiredException((new StringBuilder()).append("NotAfter: ").append(b.toString()).toString());
        else
            return;
    }

    public String toString() {
        String s;
        if (a == null || b == null)
            s = "";
        else
            s = (new StringBuilder()).append("Validity: [From: ").append(a.toString()).append(",\n               To: ").append(b.toString()).append("]").toString();
        return s;
    }
}
