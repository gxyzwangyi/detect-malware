// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package org.bouncycastle.asn1;

import java.io.EOFException;
import java.io.InputStream;

// Referenced classes of package org.bouncycastle.asn1:
//            by

class bv extends by {

    private int b;
    private int c;
    private boolean d;
    private boolean e;

    bv(InputStream inputstream, int i) {
        super(inputstream, i);
        d = false;
        e = true;
        b = inputstream.read();
        c = inputstream.read();
        if (c < 0) {
            throw new EOFException();
        } else {
            b();
            return;
        }
    }

    private boolean b() {
        if (!d && e && b == 0 && c == 0) {
            d = true;
            b(true);
        }
        return d;
    }

    void a(boolean flag) {
        e = flag;
        b();
    }

    public int read() {
        int i;
        if (b()) {
            i = -1;
        } else {
            int j = a.read();
            if (j < 0)
                throw new EOFException();
            i = b;
            b = c;
            c = j;
        }
        return i;
    }

    public int read(byte abyte0[], int i, int j) {
        if (e || j < 3)
            i = super.read(abyte0, i, j);
        else
        if (d) {
            i = -1;
        } else {
            j = a.read(abyte0, i + 2, j - 2);
            if (j < 0)
                throw new EOFException();
            abyte0[i] = (byte)b;
            abyte0[i + 1] = (byte)c;
            b = a.read();
            c = a.read();
            if (c < 0)
                throw new EOFException();
            i = j + 2;
        }
        return i;
    }
}
