// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package io.netty.util;

import io.netty.util.internal.PlatformDependent;
import io.netty.util.internal.logging.b;
import io.netty.util.internal.logging.c;
import java.io.*;
import java.net.*;
import java.security.AccessController;
import java.security.PrivilegedAction;
import java.util.*;

public final class g {

    public static final Inet4Address a;
    public static final Inet6Address b;
    public static final InetAddress c;
    public static final NetworkInterface d;
    public static final int e;
    private static final boolean f;
    private static final b g;

    private g() {
    }

    static b a() {
        return g;
    }

    static  {
        Object obj;
        Object obj1;
        Object obj2;
        Inet4Address inet4address;
        Inet6Address inet6address;
        obj = null;
        f = Boolean.getBoolean("java.net.preferIPv4Stack");
        g = io.netty.util.internal.logging.c.a(io/netty/util/g);
        boolean flag;
        Object obj4;
        Object obj5;
        Iterator iterator;
        try {
            inet4address = (Inet4Address)InetAddress.getByAddress(new byte[] {
                127, 0, 0, 1
            });
        }
        // Misplaced declaration of an exception variable
        catch (Object obj1) {
            PlatformDependent.a(((Throwable) (obj1)));
            inet4address = null;
        }
        a = inet4address;
        try {
            inet6address = (Inet6Address)InetAddress.getByAddress(new byte[] {
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
                0, 0, 0, 0, 0, 1
            });
        }
        // Misplaced declaration of an exception variable
        catch (Object obj1) {
            PlatformDependent.a(((Throwable) (obj1)));
            inet6address = null;
        }
        b = inet6address;
        obj4 = new ArrayList();
        try {
            Enumeration enumeration = NetworkInterface.getNetworkInterfaces();
            do {
                if (!enumeration.hasMoreElements())
                    break;
                NetworkInterface networkinterface = (NetworkInterface)enumeration.nextElement();
                if (networkinterface.getInetAddresses().hasMoreElements())
                    ((List) (obj4)).add(networkinterface);
            } while (true);
        }
        catch (SocketException socketexception) {
            g.b("Failed to retrieve the list of available network interfaces", socketexception);
        }
        iterator = ((List) (obj4)).iterator();
        if (!iterator.hasNext()) goto _L2; else goto _L1
_L1:
        obj1 = (NetworkInterface)iterator.next();
        obj5 = ((NetworkInterface) (obj1)).getInetAddresses();
        do {
            if (!((Enumeration) (obj5)).hasMoreElements())
                break MISSING_BLOCK_LABEL_238;
            obj2 = (InetAddress)((Enumeration) (obj5)).nextElement();
        } while (!((InetAddress) (obj2)).isLoopbackAddress());
        obj = obj2;
_L17:
        if (obj1 != null) goto _L4; else goto _L3
_L3:
        obj5 = ((List) (obj4)).iterator();
_L8:
        if (!((Iterator) (obj5)).hasNext()) goto _L6; else goto _L5
_L5:
        obj2 = (NetworkInterface)((Iterator) (obj5)).next();
        if (!((NetworkInterface) (obj2)).isLoopback()) goto _L8; else goto _L7
_L7:
        obj4 = ((NetworkInterface) (obj2)).getInetAddresses();
        flag = ((Enumeration) (obj4)).hasMoreElements();
        if (!flag) goto _L8; else goto _L9
_L9:
        obj1 = (InetAddress)((Enumeration) (obj4)).nextElement();
        obj = obj2;
_L15:
        if (obj != null)
            break MISSING_BLOCK_LABEL_381;
        g.c("Failed to find the loopback interface");
        obj2 = obj1;
        obj1 = obj;
        obj = obj2;
_L4:
        if (obj1 == null) goto _L11; else goto _L10
_L10:
        g.a("Loopback interface: {} ({}, {})", new Object[] {
            ((NetworkInterface) (obj1)).getName(), ((NetworkInterface) (obj1)).getDisplayName(), ((InetAddress) (obj)).getHostAddress()
        });
_L13:
        d = ((NetworkInterface) (obj1));
        c = ((InetAddress) (obj));
        e = ((Integer)AccessController.doPrivileged(new PrivilegedAction() {

            public Integer a() {
                int i;
                int j;
                BufferedReader bufferedreader;
                Object obj7;
                File file;
                if (PlatformDependent.b())
                    i = 200;
                else
                    i = 128;
                file = new File("/proc/sys/net/core/somaxconn");
                if (!file.exists()) goto _L2; else goto _L1
_L1:
                bufferedreader = JVM INSTR new #36  <Class BufferedReader>;
                obj7 = JVM INSTR new #38  <Class FileReader>;
                ((FileReader) (obj7)).FileReader(file);
                bufferedreader.BufferedReader(((java.io.Reader) (obj7)));
                obj7 = bufferedreader;
                j = Integer.parseInt(bufferedreader.readLine());
                obj7 = bufferedreader;
                if (!g.a().b()) goto _L4; else goto _L3
_L3:
                obj7 = bufferedreader;
                g.a().b("{}: {}", file, Integer.valueOf(j));
                i = j;
_L10:
                j = i;
                if (bufferedreader == null)
                    break MISSING_BLOCK_LABEL_109;
                bufferedreader.close();
                j = i;
_L6:
                return Integer.valueOf(j);
_L2:
                if (g.a().b())
                    g.a().b("{}: {} (non-existent)", file, Integer.valueOf(i));
                bufferedreader = null;
                continue; /* Loop/switch isn't completed */
                Exception exception1;
                exception1;
                bufferedreader = null;
_L8:
                obj7 = bufferedreader;
                g.a().b("Failed to get SOMAXCONN from: {}", file, exception1);
                j = i;
                if (bufferedreader == null) goto _L6; else goto _L5
_L5:
                bufferedreader.close();
                j = i;
                  goto _L6
                Object obj6;
                obj6;
                j = i;
                  goto _L6
                obj6;
                obj7 = null;
_L7:
                if (obj7 != null)
                    try {
                        ((BufferedReader) (obj7)).close();
                    }
                    catch (Exception exception) { }
                throw obj6;
                obj6;
                j = i;
                  goto _L6
                obj6;
                  goto _L7
                exception1;
                  goto _L8
                exception1;
                i = j;
                  goto _L8
_L4:
                i = j;
                if (true) goto _L10; else goto _L9
_L9:
            }

            public Object run() {
                return a();
            }

        }
)).intValue();
        return;
        SocketException socketexception1;
        socketexception1;
        obj2 = obj;
_L14:
        g.b("Failed to find the loopback interface", socketexception1);
        obj = obj2;
          goto _L4
_L11:
        if (obj != null) goto _L13; else goto _L12
_L12:
        obj2 = obj;
        if (NetworkInterface.getByInetAddress(b) == null)
            break MISSING_BLOCK_LABEL_527;
        g.b("Using hard-coded IPv6 localhost address: {}", inet6address);
        obj2 = inet6address;
        if (obj2 == null) {
            g.b("Using hard-coded IPv4 localhost address: {}", inet4address);
            obj = inet4address;
        } else {
            obj = obj2;
        }
          goto _L13
        obj2;
        if (obj == null) {
            g.b("Using hard-coded IPv4 localhost address: {}", inet4address);
            obj = inet4address;
        }
          goto _L13
        obj1;
        if (obj == null)
            g.b("Using hard-coded IPv4 localhost address: {}", inet4address);
        throw obj1;
        socketexception1;
        obj1 = obj2;
        obj2 = obj;
          goto _L14
        socketexception1;
        obj2 = obj1;
        obj1 = obj;
          goto _L14
_L6:
        Object obj3 = obj1;
        obj1 = obj;
        obj = obj3;
        if (true) goto _L15; else goto _L2
_L2:
        obj1 = null;
        if (true) goto _L17; else goto _L16
_L16:
    }
}
