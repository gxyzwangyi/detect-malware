// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package io.netty.handler.timeout;

import io.netty.channel.*;
import io.netty.util.concurrent.i;
import io.netty.util.concurrent.n;
import java.util.concurrent.ScheduledFuture;
import java.util.concurrent.TimeUnit;

// Referenced classes of package io.netty.handler.timeout:
//            IdleState, a

public class io.netty.handler.timeout.b extends f {
    private final class a
        implements Runnable {

        final io.netty.handler.timeout.b a;
        private final k b;

        public void run() {
            if (b.a().F()) {
                long l2 = io.netty.handler.timeout.b.f(a);
                long l1 = l2;
                if (!io.netty.handler.timeout.b.b(a))
                    l1 = l2 - (System.nanoTime() - Math.max(a.b, a.d));
                if (l1 <= 0L) {
                    a.e = b.d().a(this, io.netty.handler.timeout.b.f(a), TimeUnit.NANOSECONDS);
                    try {
                        io.netty.handler.timeout.a a1 = a.a(IdleState.c, io.netty.handler.timeout.b.g(a));
                        if (io.netty.handler.timeout.b.g(a))
                            io.netty.handler.timeout.b.b(a, false);
                        a.a(b, a1);
                    }
                    catch (Throwable throwable) {
                        b.a(throwable);
                    }
                } else {
                    a.e = b.d().a(this, l1, TimeUnit.NANOSECONDS);
                }
            }
        }

        a(k k1) {
            a = io.netty.handler.timeout.b.this;
            super();
            b = k1;
        }
    }

    private final class b
        implements Runnable {

        final io.netty.handler.timeout.b a;
        private final k b;

        public void run() {
            if (b.a().F()) {
                long l2 = io.netty.handler.timeout.b.a(a);
                long l1 = l2;
                if (!io.netty.handler.timeout.b.b(a))
                    l1 = l2 - (System.nanoTime() - a.b);
                if (l1 <= 0L) {
                    a.a = b.d().a(this, io.netty.handler.timeout.b.a(a), TimeUnit.NANOSECONDS);
                    try {
                        io.netty.handler.timeout.a a1 = a.a(IdleState.a, io.netty.handler.timeout.b.c(a));
                        if (io.netty.handler.timeout.b.c(a))
                            io.netty.handler.timeout.b.c(a, false);
                        a.a(b, a1);
                    }
                    catch (Throwable throwable) {
                        b.a(throwable);
                    }
                } else {
                    a.a = b.d().a(this, l1, TimeUnit.NANOSECONDS);
                }
            }
        }

        b(k k1) {
            a = io.netty.handler.timeout.b.this;
            super();
            b = k1;
        }
    }

    private final class c
        implements Runnable {

        final io.netty.handler.timeout.b a;
        private final k b;

        public void run() {
            if (b.a().F()) {
                long l1 = a.d;
                l1 = io.netty.handler.timeout.b.d(a) - (System.nanoTime() - l1);
                if (l1 <= 0L) {
                    a.c = b.d().a(this, io.netty.handler.timeout.b.d(a), TimeUnit.NANOSECONDS);
                    try {
                        io.netty.handler.timeout.a a1 = a.a(IdleState.b, io.netty.handler.timeout.b.e(a));
                        if (io.netty.handler.timeout.b.e(a))
                            io.netty.handler.timeout.b.a(a, false);
                        a.a(b, a1);
                    }
                    catch (Throwable throwable) {
                        b.a(throwable);
                    }
                } else {
                    a.c = b.d().a(this, l1, TimeUnit.NANOSECONDS);
                }
            }
        }

        c(k k1) {
            a = io.netty.handler.timeout.b.this;
            super();
            b = k1;
        }
    }


    private static final long g;
    volatile ScheduledFuture a;
    volatile long b;
    volatile ScheduledFuture c;
    volatile long d;
    volatile ScheduledFuture e;
    private final h h;
    private final long i;
    private final long j;
    private final long k;
    private boolean l;
    private boolean m;
    private boolean n;
    private volatile int o;
    private volatile boolean p;

    public io.netty.handler.timeout.b(int i1, int j1, int k1) {
        this(i1, j1, k1, TimeUnit.SECONDS);
    }

    public io.netty.handler.timeout.b(long l1, long l2, long l3, TimeUnit timeunit) {
        h = new h() {

            final io.netty.handler.timeout.b a;

            public void a(g g1) {
                a.d = System.nanoTime();
                io.netty.handler.timeout.b.a(a, io.netty.handler.timeout.b.b(a, true));
            }

            public volatile void a(n n1) {
                a((g)n1);
            }

             {
                a = io.netty.handler.timeout.b.this;
                super();
            }
        }
;
        l = true;
        m = true;
        n = true;
        if (timeunit == null)
            throw new NullPointerException("unit");
        if (l1 <= 0L)
            i = 0L;
        else
            i = Math.max(timeunit.toNanos(l1), g);
        if (l2 <= 0L)
            j = 0L;
        else
            j = Math.max(timeunit.toNanos(l2), g);
        if (l3 <= 0L)
            k = 0L;
        else
            k = Math.max(timeunit.toNanos(l3), g);
    }

    static long a(io.netty.handler.timeout.b b1) {
        return b1.i;
    }

    static boolean a(io.netty.handler.timeout.b b1, boolean flag) {
        b1.m = flag;
        return flag;
    }

    private void b() {
        o = 2;
        if (a != null) {
            a.cancel(false);
            a = null;
        }
        if (c != null) {
            c.cancel(false);
            c = null;
        }
        if (e != null) {
            e.cancel(false);
            e = null;
        }
    }

    static boolean b(io.netty.handler.timeout.b b1) {
        return b1.p;
    }

    static boolean b(io.netty.handler.timeout.b b1, boolean flag) {
        b1.n = flag;
        return flag;
    }

    static boolean c(io.netty.handler.timeout.b b1) {
        return b1.l;
    }

    static boolean c(io.netty.handler.timeout.b b1, boolean flag) {
        b1.l = flag;
        return flag;
    }

    static long d(io.netty.handler.timeout.b b1) {
        return b1.j;
    }

    static boolean e(io.netty.handler.timeout.b b1) {
        return b1.m;
    }

    static long f(io.netty.handler.timeout.b b1) {
        return b1.k;
    }

    static boolean g(io.netty.handler.timeout.b b1) {
        return b1.n;
    }

    private void k(k k1) {
        switch (o) {
        default:
            o = 1;
            i i1 = k1.d();
            long l1 = System.nanoTime();
            d = l1;
            b = l1;
            if (i > 0L)
                a = i1.a(new b(k1), i, TimeUnit.NANOSECONDS);
            if (j > 0L)
                c = i1.a(new c(k1), j, TimeUnit.NANOSECONDS);
            if (k > 0L)
                e = i1.a(new a(k1), k, TimeUnit.NANOSECONDS);
            // fall through

        case 1: // '\001'
        case 2: // '\002'
            return;
        }
    }

    protected io.netty.handler.timeout.a a(IdleState idlestate, boolean flag) {
        static class _cls2 {

            static final int a[];

            static  {
                a = new int[IdleState.values().length];
                NoSuchFieldError nosuchfielderror;
                try {
                    a[IdleState.c.ordinal()] = 1;
                }
                catch (NoSuchFieldError nosuchfielderror2) { }
                try {
                    a[IdleState.a.ordinal()] = 2;
                }
                catch (NoSuchFieldError nosuchfielderror1) { }
                a[IdleState.b.ordinal()] = 3;
_L2:
                return;
                nosuchfielderror;
                if (true) goto _L2; else goto _L1
_L1:
            }
        }

        _cls2.a[idlestate.ordinal()];
        JVM INSTR tableswitch 1 3: default 36
    //                   1 44
    //                   2 61
    //                   3 79;
           goto _L1 _L2 _L3 _L4
_L1:
        throw new Error();
_L2:
        if (flag)
            idlestate = io.netty.handler.timeout.a.e;
        else
            idlestate = io.netty.handler.timeout.a.f;
_L6:
        return idlestate;
_L3:
        if (flag)
            idlestate = io.netty.handler.timeout.a.a;
        else
            idlestate = io.netty.handler.timeout.a.b;
        continue; /* Loop/switch isn't completed */
_L4:
        if (flag)
            idlestate = io.netty.handler.timeout.a.c;
        else
            idlestate = io.netty.handler.timeout.a.d;
        if (true) goto _L6; else goto _L5
_L5:
    }

    protected void a(k k1, io.netty.handler.timeout.a a1) {
        k1.a(a1);
    }

    public void a(k k1, Object obj) {
        if (i > 0L || k > 0L) {
            p = true;
            n = true;
            l = true;
        }
        k1.b(obj);
    }

    public void a(k k1, Object obj, w w1) {
        if (j > 0L || k > 0L)
            w1.c(h);
        k1.a(obj, w1);
    }

    public void c(k k1) {
        if (k1.a().G() && k1.a().h())
            k(k1);
    }

    public void d(k k1) {
        b();
    }

    public void e(k k1) {
        if (k1.a().G())
            k(k1);
        super.e(k1);
    }

    public void g(k k1) {
        k(k1);
        super.g(k1);
    }

    public void h(k k1) {
        b();
        super.h(k1);
    }

    public void i(k k1) {
        if (i > 0L || k > 0L) {
            b = System.nanoTime();
            p = false;
        }
        k1.j();
    }

    static  {
        g = TimeUnit.MILLISECONDS.toNanos(1L);
    }
}
