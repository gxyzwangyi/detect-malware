// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: packimports(3) fieldsfirst nonlb space 

package io.netty.handler.ssl;

import io.netty.util.internal.k;
import java.util.LinkedHashSet;
import javax.net.ssl.SSLEngine;
import org.eclipse.jetty.alpn.ALPN;

// Referenced classes of package io.netty.handler.ssl:
//            o, h

final class g extends o {

    private static boolean a;

    g(SSLEngine sslengine, h h1, boolean flag) {
        super(sslengine);
        k.a(h1, "applicationNegotiator");
        if (flag)
            ALPN.put(sslengine, new org.eclipse.jetty.alpn.ALPN.ServerProvider((h.c)k.a(h1.d().a(this, new LinkedHashSet(h1.a())), "protocolSelector")) {

                final h.c a;
                final g b;

             {
                b = g.this;
                a = c;
                super();
            }
            }
);
        else
            ALPN.put(sslengine, new org.eclipse.jetty.alpn.ALPN.ClientProvider(h1, (h.a)k.a(h1.c().a(this, h1.a()), "protocolListener")) {

                final h a;
                final h.a b;
                final g c;

             {
                c = g.this;
                a = h1;
                b = a1;
                super();
            }
            }
);
    }

    static boolean a() {
        d();
        return a;
    }

    private static void d() {
        if (!a)
            try {
                Class.forName("sun.security.ssl.ALPNExtension", true, null);
                a = true;
            }
            catch (Exception exception) { }
    }

    public void closeInbound() {
        ALPN.remove(c());
        super.closeInbound();
    }

    public void closeOutbound() {
        ALPN.remove(c());
        super.closeOutbound();
    }
}
